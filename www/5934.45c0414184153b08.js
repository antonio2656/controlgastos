"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5934],{5934:(O,u,s)=>{s.r(u),s.d(u,{ObraPageModule:()=>F});var m=s(2200),g=s(4341),a=s(6770),h=s(8132),p=s(467),e=s(3664),d=s(319),b=s(2615);let f=(()=>{var l;class i{constructor(r){this.firestore=r,this.coleccion="obras"}getObrasSnapshot(){const r=(0,d.rJ)(this.firestore,this.coleccion);return(0,d.xs)(r,{idField:"id_obra"})}addObraConId(r){const t=(0,d.rJ)(this.firestore,this.coleccion);return(0,d.gS)(t,r)}updateObra(r,t){const n=(0,d.H9)(this.firestore,`${this.coleccion}/${r}`);return(0,d.mZ)(n,t)}deleteObra(r){const t=(0,d.H9)(this.firestore,`${this.coleccion}/${r}`);return(0,d.kd)(t)}static#e=l=()=>(this.\u0275fac=function(t){return new(t||i)(b.KVO(d._7))},this.\u0275prov=b.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}))}return l(),i})();var M=s(7045);const _=[{path:"",component:(()=>{var l;class i{constructor(r,t,n){this.alertCtrl=r,this.obraService=t,this.router=n,this.obra={nombre_obra:"",direccion:"",cliente:"",estatus:"",fecha_inicio:"",fecha_fin:"",responsable:"",importe_presupuesto:"",observaciones:""}}ngOnInit(){}guardarObra(){var r=this;return(0,p.A)(function*(){try{yield r.obraService.addObraConId(r.obra),yield(yield r.alertCtrl.create({header:"\xc9xito",message:"Obra guardada correctamente",buttons:["OK"]})).present(),r.router.navigate(["/dashboard"])}catch(t){console.error("Error al guardar obra:",t),yield(yield r.alertCtrl.create({header:"Error",message:"No se pudo guardar la obra",buttons:["OK"]})).present()}})()}static#e=l=()=>(this.\u0275fac=function(t){return new(t||i)(e.rXU(a.hG),e.rXU(f),e.rXU(M.Ix))},this.\u0275cmp=e.VBU({type:i,selectors:[["app-obra"]],decls:56,vars:9,consts:[["color","primary"],[1,"ion-text-center"],[1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["name","nombre_obra","required","",3,"ngModelChange","ngModel"],["name","direccion","required","",3,"ngModelChange","ngModel"],["name","cliente",3,"ngModelChange","ngModel"],["name","estatus","interface","popover",3,"ngModelChange","ngModel"],["value","Pendiente"],["value","En Proceso"],["value","Finalizada"],["position","stacked"],["display-format","DD/MM/YYYY","presentation","date","name","fecha_inicio",3,"ngModelChange","ngModel"],["display-format","DD/MM/YYYY","presentation","date","name","fecha_fin",3,"ngModelChange","ngModel"],["name","responsable",3,"ngModelChange","ngModel"],["type","number","name","importe_presupuesto",3,"ngModelChange","ngModel"],["autoGrow","true","name","observaciones",3,"ngModelChange","ngModel"],["expand","block","type","submit","color","success",1,"ion-margin-top"],["name","save-outline","slot","start"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),e.EFF(3,"Nueva Obra"),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),e.EFF(8,"Datos de la Obra"),e.k0s()(),e.j41(9,"ion-card-content")(10,"form",3),e.bIt("ngSubmit",function(){return n.guardarObra()}),e.j41(11,"ion-item")(12,"ion-label",4),e.EFF(13,"Nombre de la Obra"),e.k0s(),e.j41(14,"ion-input",5),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.nombre_obra,o)||(n.obra.nombre_obra=o),o}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-label",4),e.EFF(17,"Direcci\xf3n"),e.k0s(),e.j41(18,"ion-input",6),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.direccion,o)||(n.obra.direccion=o),o}),e.k0s()(),e.j41(19,"ion-item")(20,"ion-label",4),e.EFF(21,"Cliente"),e.k0s(),e.j41(22,"ion-input",7),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.cliente,o)||(n.obra.cliente=o),o}),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label"),e.EFF(25,"Estatus"),e.k0s(),e.j41(26,"ion-select",8),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.estatus,o)||(n.obra.estatus=o),o}),e.j41(27,"ion-select-option",9),e.EFF(28,"Pendiente"),e.k0s(),e.j41(29,"ion-select-option",10),e.EFF(30,"En Proceso"),e.k0s(),e.j41(31,"ion-select-option",11),e.EFF(32,"Finalizada"),e.k0s()()(),e.j41(33,"ion-item")(34,"ion-label",12),e.EFF(35,"Fecha Inicio"),e.k0s(),e.j41(36,"ion-datetime",13),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.fecha_inicio,o)||(n.obra.fecha_inicio=o),o}),e.k0s()(),e.j41(37,"ion-item")(38,"ion-label",12),e.EFF(39,"Fecha Fin"),e.k0s(),e.j41(40,"ion-datetime",14),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.fecha_fin,o)||(n.obra.fecha_fin=o),o}),e.k0s()(),e.j41(41,"ion-item")(42,"ion-label",4),e.EFF(43,"Responsable"),e.k0s(),e.j41(44,"ion-input",15),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.responsable,o)||(n.obra.responsable=o),o}),e.k0s()(),e.j41(45,"ion-item")(46,"ion-label",4),e.EFF(47,"Importe Presupuesto"),e.k0s(),e.j41(48,"ion-input",16),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.importe_presupuesto,o)||(n.obra.importe_presupuesto=o),o}),e.k0s()(),e.j41(49,"ion-item")(50,"ion-label",4),e.EFF(51,"Observaciones"),e.k0s(),e.j41(52,"ion-textarea",17),e.mxI("ngModelChange",function(o){return e.DH7(n.obra.observaciones,o)||(n.obra.observaciones=o),o}),e.k0s()(),e.j41(53,"ion-button",18),e.nrm(54,"ion-icon",19),e.EFF(55," Guardar Obra "),e.k0s()()()()()),2&t&&(e.R7$(14),e.R50("ngModel",n.obra.nombre_obra),e.R7$(4),e.R50("ngModel",n.obra.direccion),e.R7$(4),e.R50("ngModel",n.obra.cliente),e.R7$(4),e.R50("ngModel",n.obra.estatus),e.R7$(10),e.R50("ngModel",n.obra.fecha_inicio),e.R7$(4),e.R50("ngModel",n.obra.fecha_fin),e.R7$(4),e.R50("ngModel",n.obra.responsable),e.R7$(4),e.R50("ngModel",n.obra.importe_presupuesto),e.R7$(4),e.R50("ngModel",n.obra.observaciones))},dependencies:[m.MD,g.YN,g.qT,g.BC,g.cb,g.YS,g.vS,g.cV,a.bv,a.Jm,a.b_,a.I9,a.ME,a.tN,a.W9,a.A9,a.eU,a.iq,a.$w,a.uz,a.he,a.Nm,a.Ip,a.nc,a.BC,a.ai,a.su,a.Je,a.Gw],styles:["ion-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 12px #0000001a}ion-card-header[_ngcontent-%COMP%]{text-align:center}ion-item[_ngcontent-%COMP%]{margin-bottom:100px}ion-button[_ngcontent-%COMP%]{font-weight:700}"]}))}return l(),i})()}];let C=(()=>{var l;class i{static#e=l=()=>(this.\u0275fac=function(t){return new(t||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=b.G2t({imports:[h.iI.forChild(_),h.iI]}))}return l(),i})(),F=(()=>{var l;class i{static#e=l=()=>(this.\u0275fac=function(t){return new(t||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=b.G2t({imports:[m.MD,g.YN,a.bv,C]}))}return l(),i})()}}]);